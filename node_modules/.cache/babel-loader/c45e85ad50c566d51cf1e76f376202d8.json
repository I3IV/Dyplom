{"ast":null,"code":"import _toConsumableArray from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\src\\\\node_modules\\\\components\\\\pages\\\\dish-page\\\\dish-side-page\\\\dish-side-page.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport RadioSelect from \"shared-components/radio-select\";\nimport ProductsList from \"shared-components/products-list\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport { productsSelectItems } from \"api\";\nimport styles from \"./styles\";\nimport theme, { defaultTheme } from \"./themes\";\nvar formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\n\nvar DishSidePage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DishSidePage, _React$Component);\n\n  function DishSidePage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DishSidePage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DishSidePage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      products: [],\n      count: 1\n    };\n\n    _this.onDishSizeChange = function (size_id) {\n      _this.setState({\n        size_id: size_id\n      });\n    };\n\n    _this.onProductChange = function (product_id) {\n      var products = _this.state.products;\n\n      var changedProducts = _this.toggleProperty(products, product_id, \"checked\");\n\n      _this.setState({\n        products: changedProducts\n      });\n    };\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n      };\n    };\n\n    _this.onDishUp = function () {\n      _this.setState({\n        count: _this.state.count + 1\n      });\n    };\n\n    _this.onDishDown = function () {\n      if (_this.state.count - 1 >= 1) {\n        _this.setState({\n          count: _this.state.count - 1\n        });\n      }\n    };\n\n    _this.transformDishSizes = function (_sizes) {\n      return _sizes.map(function (size) {\n        return {\n          id: size.id,\n          name: size.DishSizeName,\n          price: size.price\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DishSidePage, [{\n    key: \"toggleProperty\",\n    value: function toggleProperty(arr, id, propName) {\n      var idx = arr.findIndex(function (el) {\n        return el.value === id;\n      });\n      var oldItem = arr[idx];\n\n      var newItem = _objectSpread({}, oldItem, _defineProperty({}, propName, !oldItem[propName]));\n\n      return _toConsumableArray(arr.slice(0, idx)).concat([newItem], _toConsumableArray(arr.slice(idx + 1)));\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.dishToShow.id !== this.state.id) {\n        var _nextProps$dishToShow = nextProps.dishToShow,\n            Sizes = _nextProps$dishToShow.Sizes,\n            id = _nextProps$dishToShow.id;\n        this.setState({\n          dish: nextProps.dishToShow,\n          size_id: Sizes[0].id,\n          sizes: this.transformDishSizes(Sizes),\n          products: productsSelectItems(id).map(function (product) {\n            return _objectSpread({}, product, {\n              checked: true\n            });\n          })\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          count = _this$state.count,\n          sizes = _this$state.sizes,\n          size_id = _this$state.size_id,\n          products = _this$state.products,\n          dish = _this$state.dish;\n      if (!dish) return \"\";\n      var id = dish.id,\n          Name = dish.Name,\n          Description = dish.Description;\n      var Price = sizes.find(function (size) {\n        return size.id == size_id;\n      }).price;\n      return React.createElement(\"div\", {\n        className: classes.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/dishes/\".concat(id, \".jpg\"),\n        alt: Name,\n        className: classes.dishImg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.topDesc,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"primary\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, Name), React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"secondary\",\n        gutterBottom: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, Description)), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(MuiThemeProvider, {\n        theme: defaultTheme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        className: classes.text,\n        variant: \"h6\",\n        color: \"textSecondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Select size\"), size_id && React.createElement(RadioSelect, {\n        items: sizes,\n        selected: size_id,\n        onChange: this.onDishSizeChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        className: classes.text,\n        variant: \"h6\",\n        color: \"textSecondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Select products\"), products && React.createElement(ProductsList, {\n        items: products,\n        onProductChange: this.onProductChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        className: classes.text,\n        variant: \"h6\",\n        color: \"textSecondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Comment\")), React.createElement(TextField, {\n        id: \"filled-textarea\",\n        placeholder: \"Enter your comment\",\n        multiline: true,\n        rows: \"4\",\n        className: classes.textField,\n        margin: \"normal\",\n        variant: \"filled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classes.bottomPanel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.flexRow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\".concat(classes.flexRow, \" \").concat(classes.flexPrice),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: classes.iconButton,\n        \"aria-label\": \"Remove\",\n        onClick: this.onDishDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(RemoveIcon, {\n        fontSize: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, count), React.createElement(IconButton, {\n        className: classes.iconButton,\n        \"aria-label\": \"Add\",\n        onClick: this.onDishUp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        fontSize: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))), React.createElement(Typography, {\n        className: classes.price,\n        variant: \"h6\",\n        color: \"textPrimary\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, formatter.format(count * Price))), React.createElement(MuiThemeProvider, {\n        theme: defaultTheme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.props.handleApply,\n        color: \"secondary\",\n        variant: \"outlined\",\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Add to cart\")))));\n    }\n  }]);\n\n  return DishSidePage;\n}(React.Component);\n\nDishSidePage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(DishSidePage);","map":{"version":3,"sources":["D:\\Studia\\React\\I3IV\\Dyplom\\src\\node_modules\\components\\pages\\dish-page\\dish-side-page\\dish-side-page.js"],"names":["React","PropTypes","withStyles","MuiThemeProvider","Divider","AddIcon","RemoveIcon","RadioSelect","ProductsList","TextField","Typography","IconButton","Button","productsSelectItems","styles","theme","defaultTheme","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","DishSidePage","state","products","count","onDishSizeChange","size_id","setState","onProductChange","product_id","changedProducts","toggleProperty","handleChange","name","event","target","value","onDishUp","onDishDown","transformDishSizes","_sizes","map","size","id","DishSizeName","price","arr","propName","idx","findIndex","el","oldItem","newItem","slice","nextProps","dishToShow","Sizes","dish","sizes","product","checked","classes","props","Name","Description","Price","find","list","content","dishImg","topDesc","text","textField","bottomPanel","flexRow","flexPrice","iconButton","format","handleApply","button","Component","propTypes","object","isRequired"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,EAAqBC,gBAArB,QAA6C,0BAA7C;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,mBAAT,QAAmC,KAAnC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,IAAgBC,YAAhB,QAAoC,UAApC;AAEA,IAAMC,SAAS,GAAG,IAAIC,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;AAC/CC,EAAAA,KAAK,EAAE,UADwC;AAE/CC,EAAAA,QAAQ,EAAE,KAFqC;AAG/CC,EAAAA,qBAAqB,EAAE;AAHwB,CAA/B,CAAlB;;IAKMC,Y;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,KAAK,EAAE;AAFD,K;;UAWRC,gB,GAAmB,UAAAC,OAAO,EAAI;AAC5B,YAAKC,QAAL,CAAc;AACZD,QAAAA,OAAO,EAAPA;AADY,OAAd;AAGD,K;;UACDE,e,GAAkB,UAAAC,UAAU,EAAI;AAAA,UACtBN,QADsB,GACT,MAAKD,KADI,CACtBC,QADsB;;AAE9B,UAAMO,eAAe,GAAG,MAAKC,cAAL,CACtBR,QADsB,EAEtBM,UAFsB,EAGtB,SAHsB,CAAxB;;AAKA,YAAKF,QAAL,CAAc;AACZJ,QAAAA,QAAQ,EAAEO;AADE,OAAd;AAGD,K;;UACDE,Y,GAAe,UAAAC,IAAI;AAAA,aAAI,UAAAC,KAAK,EAAI;AAC9B,cAAKP,QAAL,qBACGM,IADH,EACUC,KAAK,CAACC,MAAN,CAAaC,KADvB;AAGD,OAJkB;AAAA,K;;UAKnBC,Q,GAAW,YAAM;AACf,YAAKV,QAAL,CAAc;AACZH,QAAAA,KAAK,EAAE,MAAKF,KAAL,CAAWE,KAAX,GAAmB;AADd,OAAd;AAGD,K;;UACDc,U,GAAa,YAAM;AACjB,UAAI,MAAKhB,KAAL,CAAWE,KAAX,GAAmB,CAAnB,IAAwB,CAA5B,EAA+B;AAC7B,cAAKG,QAAL,CAAc;AACZH,UAAAA,KAAK,EAAE,MAAKF,KAAL,CAAWE,KAAX,GAAmB;AADd,SAAd;AAGD;AACF,K;;UACDe,kB,GAAqB,UAAAC,MAAM,EAAI;AAC7B,aAAOA,MAAM,CAACC,GAAP,CAAW,UAAAC,IAAI;AAAA,eAAK;AACzBC,UAAAA,EAAE,EAAED,IAAI,CAACC,EADgB;AAEzBV,UAAAA,IAAI,EAAES,IAAI,CAACE,YAFc;AAGzBC,UAAAA,KAAK,EAAEH,IAAI,CAACG;AAHa,SAAL;AAAA,OAAf,CAAP;AAKD,K;;;;;;;mCA9CcC,G,EAAKH,E,EAAII,Q,EAAU;AAChC,UAAMC,GAAG,GAAGF,GAAG,CAACG,SAAJ,CAAc,UAAAC,EAAE;AAAA,eAAIA,EAAE,CAACd,KAAH,KAAaO,EAAjB;AAAA,OAAhB,CAAZ;AACA,UAAMQ,OAAO,GAAGL,GAAG,CAACE,GAAD,CAAnB;;AACA,UAAMI,OAAO,qBAAQD,OAAR,sBAAkBJ,QAAlB,EAA6B,CAACI,OAAO,CAACJ,QAAD,CAArC,EAAb;;AAEA,gCAAWD,GAAG,CAACO,KAAJ,CAAU,CAAV,EAAaL,GAAb,CAAX,UAA8BI,OAA9B,sBAA0CN,GAAG,CAACO,KAAJ,CAAUL,GAAG,GAAG,CAAhB,CAA1C;AACD;;;8CAyCyBM,S,EAAW;AACnC,UAAIA,SAAS,CAACC,UAAV,CAAqBZ,EAArB,KAA4B,KAAKrB,KAAL,CAAWqB,EAA3C,EAA+C;AAAA,oCACvBW,SAAS,CAACC,UADa;AAAA,YACrCC,KADqC,yBACrCA,KADqC;AAAA,YAC9Bb,EAD8B,yBAC9BA,EAD8B;AAE7C,aAAKhB,QAAL,CAAc;AACZ8B,UAAAA,IAAI,EAAEH,SAAS,CAACC,UADJ;AAEZ7B,UAAAA,OAAO,EAAE8B,KAAK,CAAC,CAAD,CAAL,CAASb,EAFN;AAGZe,UAAAA,KAAK,EAAE,KAAKnB,kBAAL,CAAwBiB,KAAxB,CAHK;AAIZjC,UAAAA,QAAQ,EAAEZ,mBAAmB,CAACgC,EAAD,CAAnB,CAAwBF,GAAxB,CAA4B,UAAAkB,OAAO;AAAA,qCACxCA,OADwC;AAE3CC,cAAAA,OAAO,EAAE;AAFkC;AAAA,WAAnC;AAJE,SAAd;AASD;AACF;;;6BAEQ;AAAA,UACCC,OADD,GACa,KAAKC,KADlB,CACCD,OADD;AAAA,wBAE2C,KAAKvC,KAFhD;AAAA,UAECE,KAFD,eAECA,KAFD;AAAA,UAEQkC,KAFR,eAEQA,KAFR;AAAA,UAEehC,OAFf,eAEeA,OAFf;AAAA,UAEwBH,QAFxB,eAEwBA,QAFxB;AAAA,UAEkCkC,IAFlC,eAEkCA,IAFlC;AAGP,UAAI,CAACA,IAAL,EAAW,OAAO,EAAP;AAHJ,UAICd,EAJD,GAI2Bc,IAJ3B,CAICd,EAJD;AAAA,UAIKoB,IAJL,GAI2BN,IAJ3B,CAIKM,IAJL;AAAA,UAIWC,WAJX,GAI2BP,IAJ3B,CAIWO,WAJX;AAKP,UAAMC,KAAK,GAAGP,KAAK,CAACQ,IAAN,CAAW,UAAAxB,IAAI;AAAA,eAAIA,IAAI,CAACC,EAAL,IAAWjB,OAAf;AAAA,OAAf,EAAuCmB,KAArD;AACA,aAAO;AAAK,QAAA,SAAS,EAAEgB,OAAO,CAACM,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEtD,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEgD,OAAO,CAACO,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,GAAG,2BAAoBzB,EAApB,SAAR;AAAsC,QAAA,GAAG,EAAEoB,IAA3C;AAAiD,QAAA,SAAS,EAAEF,OAAO,CAACQ,OAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAGE;AAAK,QAAA,SAAS,EAAER,OAAO,CAACS,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,KAAK,EAAC,SAA/B;AAAyC,QAAA,YAAY,MAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGP,IADH,CADF,EAIE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,OAApB;AAA4B,QAAA,KAAK,EAAC,WAAlC;AAA8C,QAAA,YAAY,MAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,WADH,CAJF,CAHF,EAWE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAYE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAElD,YAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAE+C,OAAO,CAACU,IAA/B;AAAqC,QAAA,OAAO,EAAC,IAA7C;AAAkD,QAAA,KAAK,EAAC,eAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAIG7C,OAAO,IAAI,oBAAC,WAAD;AAAa,QAAA,KAAK,EAAEgC,KAApB;AAA2B,QAAA,QAAQ,EAAEhC,OAArC;AAA8C,QAAA,QAAQ,EAAE,KAAKD,gBAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJd,EAKE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAME,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAEoC,OAAO,CAACU,IAA/B;AAAqC,QAAA,OAAO,EAAC,IAA7C;AAAkD,QAAA,KAAK,EAAC,eAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BANF,EASGhD,QAAQ,IAAI,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAEA,QAArB;AAA+B,QAAA,eAAe,EAAE,KAAKK,eAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATf,EAUE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAEiC,OAAO,CAACU,IAA/B;AAAqC,QAAA,OAAO,EAAC,IAA7C;AAAkD,QAAA,KAAK,EAAC,eAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAXF,CAZF,EA2BE,oBAAC,SAAD;AAAW,QAAA,EAAE,EAAC,iBAAd;AAAgC,QAAA,WAAW,EAAC,oBAA5C;AAAiE,QAAA,SAAS,MAA1E;AAA2E,QAAA,IAAI,EAAC,GAAhF;AAAoF,QAAA,SAAS,EAAEV,OAAO,CAACW,SAAvG;AAAkH,QAAA,MAAM,EAAC,QAAzH;AAAkI,QAAA,OAAO,EAAC,QAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3BF,EA4BE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5BF,CADF,EA+BE;AAAK,QAAA,SAAS,EAAEX,OAAO,CAACY,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAEZ,OAAO,CAACa,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,YAAKb,OAAO,CAACa,OAAb,cAAwBb,OAAO,CAACc,SAAhC,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAEd,OAAO,CAACe,UAA/B;AAA2C,sBAAW,QAAtD;AAA+D,QAAA,OAAO,EAAE,KAAKtC,UAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOd,KAAP,CAJF,EAKE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAEqC,OAAO,CAACe,UAA/B;AAA2C,sBAAW,KAAtD;AAA4D,QAAA,OAAO,EAAE,KAAKvC,QAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,QAAQ,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CALF,CADF,EAUE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAEwB,OAAO,CAAChB,KAA/B;AAAsC,QAAA,OAAO,EAAC,IAA9C;AAAmD,QAAA,KAAK,EAAC,aAAzD;AAAuE,QAAA,KAAK,EAAC,QAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG9B,SAAS,CAAC8D,MAAV,CAAiBrD,KAAK,GAAGyC,KAAzB,CADH,CAVF,CADF,EAeE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEnD,YAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKgD,KAAL,CAAWgB,WAA5B;AAAyC,QAAA,KAAK,EAAC,WAA/C;AAA2D,QAAA,OAAO,EAAC,UAAnE;AAA8E,QAAA,SAAS,EAAEjB,OAAO,CAACkB,MAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,CAfF,CA/BF,CADG,CAAP;AAuDD;;;;EAhIwBjF,KAAK,CAACkF,S;;AAmIjC3D,YAAY,CAAC4D,SAAb,GAAyB;AACvBpB,EAAAA,OAAO,EAAE9D,SAAS,CAACmF,MAAV,CAAiBC;AADH,CAAzB;AAIA,eAAenF,UAAU,CAACY,MAAD,CAAV,CAAmBS,YAAnB,CAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport Divider from \"@material-ui/core/Divider\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport RemoveIcon from \"@material-ui/icons/Remove\";\nimport RadioSelect from \"shared-components/radio-select\";\nimport ProductsList from \"shared-components/products-list\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\nimport { productsSelectItems} from \"api\";\nimport styles from \"./styles\";\nimport theme, { defaultTheme } from \"./themes\";\n\nconst formatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"USD\",\n  minimumFractionDigits: 2\n});\nclass DishSidePage extends React.Component {\n  state = {\n    products: [],\n    count: 1\n  };\n  toggleProperty(arr, id, propName) {\n    const idx = arr.findIndex(el => el.value === id);\n    const oldItem = arr[idx];\n    const newItem = { ...oldItem, [propName]: !oldItem[propName] };\n\n    return [...arr.slice(0, idx), newItem, ...arr.slice(idx + 1)];\n  }\n  onDishSizeChange = size_id => {\n    this.setState({\n      size_id\n    });\n  };\n  onProductChange = product_id => {\n    const { products } = this.state;\n    const changedProducts = this.toggleProperty(\n      products,\n      product_id,\n      \"checked\"\n    );\n    this.setState({\n      products: changedProducts\n    });\n  };\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value\n    });\n  };\n  onDishUp = () => {\n    this.setState({\n      count: this.state.count + 1\n    });\n  };\n  onDishDown = () => {\n    if (this.state.count - 1 >= 1) {\n      this.setState({\n        count: this.state.count - 1\n      });\n    }\n  };\n  transformDishSizes = _sizes => {\n    return _sizes.map(size => ({\n      id: size.id,\n      name: size.DishSizeName,\n      price: size.price\n    }));\n  };\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dishToShow.id !== this.state.id) {\n      const { Sizes, id } = nextProps.dishToShow;\n      this.setState({\n        dish: nextProps.dishToShow,\n        size_id: Sizes[0].id,\n        sizes: this.transformDishSizes(Sizes),\n        products: productsSelectItems(id).map(product => ({\n          ...product,\n          checked: true\n        }))\n      });\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { count, sizes, size_id, products, dish } = this.state;\n    if (!dish) return \"\";\n    const { id, Name, Description } = dish;\n    const Price = sizes.find(size => size.id == size_id).price;\n    return <div className={classes.list}>\n        <MuiThemeProvider theme={theme}>\n          <div className={classes.content}>\n            <img src={`/images/dishes/${id}.jpg`} alt={Name} className={classes.dishImg} />\n\n            <div className={classes.topDesc}>\n              <Typography variant=\"h6\" color=\"primary\" gutterBottom>\n                {Name}\n              </Typography>\n              <Typography variant=\"body2\" color=\"secondary\" gutterBottom>\n                {Description}\n              </Typography>\n            </div>\n            <Divider />\n            <MuiThemeProvider theme={defaultTheme}>\n              <Typography className={classes.text} variant=\"h6\" color=\"textSecondary\">\n                Select size\n              </Typography>\n              {size_id && <RadioSelect items={sizes} selected={size_id} onChange={this.onDishSizeChange} />}\n              <Divider />\n              <Typography className={classes.text} variant=\"h6\" color=\"textSecondary\">\n                Select products\n              </Typography>\n              {products && <ProductsList items={products} onProductChange={this.onProductChange} />}\n              <Divider />\n              <Typography className={classes.text} variant=\"h6\" color=\"textSecondary\">\n                Comment\n              </Typography>\n            </MuiThemeProvider>\n            <TextField id=\"filled-textarea\" placeholder=\"Enter your comment\" multiline rows=\"4\" className={classes.textField} margin=\"normal\" variant=\"filled\" />\n            <Divider />\n          </div>\n          <div className={classes.bottomPanel}>\n            <div className={classes.flexRow}>\n              <div className={`${classes.flexRow} ${classes.flexPrice}`}>\n                <IconButton className={classes.iconButton} aria-label=\"Remove\" onClick={this.onDishDown}>\n                  <RemoveIcon fontSize=\"small\" />\n                </IconButton>\n                <span>{count}</span>\n                <IconButton className={classes.iconButton} aria-label=\"Add\" onClick={this.onDishUp}>\n                  <AddIcon fontSize=\"small\" />\n                </IconButton>\n              </div>\n              <Typography className={classes.price} variant=\"h6\" color=\"textPrimary\" align=\"center\">\n                {formatter.format(count * Price)}\n              </Typography>\n            </div>\n            <MuiThemeProvider theme={defaultTheme}>\n              <Button onClick={this.props.handleApply} color=\"secondary\" variant=\"outlined\" className={classes.button}>\n                Add to cart\n              </Button>\n            </MuiThemeProvider>\n          </div>\n        </MuiThemeProvider>\n      </div>;\n  }\n}\n\nDishSidePage.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(DishSidePage);\n"]},"metadata":{},"sourceType":"module"}