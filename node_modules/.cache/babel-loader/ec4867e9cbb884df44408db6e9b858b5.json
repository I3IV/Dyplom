{"ast":null,"code":"import _classCallCheck from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nvar _jsxFileName = \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\src\\\\node_modules\\\\shared-components\\\\private-route\\\\private-route.js\";\nimport React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport client from \"feathers/client\";\nimport { getLoggedInUser } from \"api\";\n\nvar PrivateRoute =\n/*#__PURE__*/\nfunction () {\n  function PrivateRoute() {\n    _classCallCheck(this, PrivateRoute);\n  }\n\n  _createClass(PrivateRoute, [{\n    key: \"render\",\n    value: function render(component) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      return React.createElement(Route, Object.assign({}, rest, {\n        render: function render(props) {\n          return getLoggedInUser().then(function (user) {\n            return user;\n          }).isEmpty ? React.createElement(\"component\", Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 13\n            },\n            __self: this\n          })) : React.createElement(Redirect, {\n            to: {\n              pathname: \"/login\",\n              state: {\n                from: props.location\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 15\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PrivateRoute;\n}();\n\nexport { PrivateRoute as default };","map":{"version":3,"sources":["D:\\Studia\\React\\I3IV\\Dyplom\\src\\node_modules\\shared-components\\private-route\\private-route.js"],"names":["React","Redirect","Route","client","getLoggedInUser","PrivateRoute","component","rest","props","then","user","isEmpty","pathname","state","from","location"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,kBAAhC;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,SAASC,eAAT,QAAgC,KAAhC;;IAEqBC,Y;;;;;;;;;2BACZC,S,EAA+B;AAAA,wCAANC,IAAM;AAANA,QAAAA,IAAM;AAAA;;AACpC,aACE,oBAAC,KAAD,oBACMA,IADN;AAEE,QAAA,MAAM,EAAE,gBAAAC,KAAK;AAAA,iBACXJ,eAAe,GAAGK,IAAlB,CAAuB,UAAAC,IAAI;AAAA,mBAAIA,IAAJ;AAAA,WAA3B,EAAqCC,OAArC,GACE,mDAAeH,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,GAGE,oBAAC,QAAD;AACE,YAAA,EAAE,EAAE;AACFI,cAAAA,QAAQ,EAAE,QADR;AAEFC,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,IAAI,EAAEN,KAAK,CAACO;AAAd;AAFL,aADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJS;AAAA,SAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AAiBD;;;;;;SAnBkBV,Y","sourcesContent":["import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport client from \"feathers/client\";\nimport { getLoggedInUser } from \"api\";\n\nexport default class PrivateRoute {\n  render(component: Component, ...rest) {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          getLoggedInUser().then(user => user).isEmpty ? (\n            <component {...props} />\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: props.location }\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}