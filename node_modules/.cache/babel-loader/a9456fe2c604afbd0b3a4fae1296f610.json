{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\src\\\\node_modules\\\\shared-components\\\\navigation-list-item\\\\navigation-list-item.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport client from \"feathers/client\";\n\nvar NavigationListItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(NavigationListItem, _Component);\n\n  function NavigationListItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, NavigationListItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(NavigationListItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      anchorEl: null,\n      auth: false,\n      user: null\n    };\n\n    _this.handleClick = function (event) {\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(NavigationListItem, [{\n    key: \"render\",\n    value: function () {\n      var _render = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var anchorEl, item, user, _user;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                anchorEl = this.state.anchorEl;\n                item = this.props.item;\n                user = client.get(\"user\");\n\n                if (!localStorage.getItem(\"feathers-jwt\")) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _context.next = 6;\n                return client.get(\"user\");\n\n              case 6:\n                _user = _context.sent;\n                return _context.abrupt(\"return\", React.createElement(\"li\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 32\n                  },\n                  __self: this\n                }, React.createElement(\"span\", {\n                  className: \"logged-username\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 33\n                  },\n                  __self: this\n                }, _user.CustName), React.createElement(IconButton, {\n                  \"aria-label\": \"More\",\n                  \"aria-owns\": anchorEl ? \"long-menu\" : undefined,\n                  \"aria-haspopup\": \"true\",\n                  onClick: this.handleClick,\n                  color: \"primary\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 34\n                  },\n                  __self: this\n                }, React.createElement(MoreVertIcon, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 41\n                  },\n                  __self: this\n                })), React.createElement(Menu, {\n                  id: \"simple-menu\",\n                  anchorEl: anchorEl,\n                  open: Boolean(anchorEl),\n                  onClose: this.handleClose,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 43\n                  },\n                  __self: this\n                }, React.createElement(Link, {\n                  to: \"/account\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 49\n                  },\n                  __self: this\n                }, React.createElement(MenuItem, {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 50\n                  },\n                  __self: this\n                }, \"My Account\")), React.createElement(MenuItem, {\n                  onClick: function onClick() {\n                    _this2.handleClose();\n\n                    client.logout();\n                  },\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 52\n                  },\n                  __self: this\n                }, \"Logout\"))));\n\n              case 10:\n                return _context.abrupt(\"return\", React.createElement(\"li\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 65\n                  },\n                  __self: this\n                }, React.createElement(Link, {\n                  to: item.link,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 66\n                  },\n                  __self: this\n                }, React.createElement(Button, {\n                  className: \"button\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 67\n                  },\n                  __self: this\n                }, item.label))));\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function render() {\n        return _render.apply(this, arguments);\n      };\n    }()\n  }]);\n\n  return NavigationListItem;\n}(Component);\n\nexport { NavigationListItem as default };","map":{"version":3,"sources":["D:\\Studia\\React\\I3IV\\Dyplom\\src\\node_modules\\shared-components\\navigation-list-item\\navigation-list-item.js"],"names":["React","Component","Link","Button","IconButton","MoreVertIcon","Menu","MenuItem","client","NavigationListItem","state","anchorEl","auth","user","handleClick","event","setState","currentTarget","handleClose","item","props","get","localStorage","getItem","CustName","undefined","Boolean","logout","link","label"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;;IAEqBC,kB;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,QAAQ,EAAE,IADJ;AAENC,MAAAA,IAAI,EAAE,KAFA;AAGNC,MAAAA,IAAI,EAAE;AAHA,K;;UAMRC,W,GAAc,UAAAC,KAAK,EAAI;AACrB,YAAKC,QAAL,CAAc;AAAEL,QAAAA,QAAQ,EAAEI,KAAK,CAACE;AAAlB,OAAd;AACD,K;;UAEDC,W,GAAc,YAAM;AAClB,YAAKF,QAAL,CAAc;AAAEL,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACD,K;;;;;;;;;;;;;;;;;;;AAGSA,gBAAAA,Q,GAAa,KAAKD,K,CAAlBC,Q;AACAQ,gBAAAA,I,GAAS,KAAKC,K,CAAdD,I;AACFN,gBAAAA,I,GAAOL,MAAM,CAACa,GAAP,CAAW,MAAX,C;;qBACTC,YAAY,CAACC,OAAb,CAAqB,cAArB,C;;;;;;uBACiBf,MAAM,CAACa,GAAP,CAAW,MAAX,C;;;AAAbR,gBAAAA,K;iDAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE;AAAM,kBAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAmCA,KAAI,CAACW,QAAxC,CADF,EAEE,oBAAC,UAAD;AACE,gCAAW,MADb;AAEE,+BAAWb,QAAQ,GAAG,WAAH,GAAiBc,SAFtC;AAGE,mCAAc,MAHhB;AAIE,kBAAA,OAAO,EAAE,KAAKX,WAJhB;AAKE,kBAAA,KAAK,EAAC,SALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,CAFF,EAWE,oBAAC,IAAD;AACE,kBAAA,EAAE,EAAC,aADL;AAEE,kBAAA,QAAQ,EAAEH,QAFZ;AAGE,kBAAA,IAAI,EAAEe,OAAO,CAACf,QAAD,CAHf;AAIE,kBAAA,OAAO,EAAE,KAAKO,WAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAME,oBAAC,IAAD;AAAM,kBAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,CANF,EASE,oBAAC,QAAD;AACE,kBAAA,OAAO,EAAE,mBAAM;AACb,oBAAA,MAAI,CAACA,WAAL;;AACAV,oBAAAA,MAAM,CAACmB,MAAP;AACD,mBAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BATF,CAXF,C;;;iDAiCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,oBAAC,IAAD;AAAM,kBAAA,EAAE,EAAER,IAAI,CAACS,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACE,oBAAC,MAAD;AAAQ,kBAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA4BT,IAAI,CAACU,KAAjC,CADF,CADF,C;;;;;;;;;;;;;;;;;EAvDwC5B,S;;SAA3BQ,kB","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport client from \"feathers/client\";\n\nexport default class NavigationListItem extends Component {\n  state = {\n    anchorEl: null,\n    auth: false,\n    user: null\n  };\n\n  handleClick = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  async render() {\n    const { anchorEl } = this.state;\n    const { item } = this.props;\n    const user = client.get(\"user\");\n    if (localStorage.getItem(\"feathers-jwt\")) {\n      const user = await client.get(\"user\");\n      return (\n        <li>\n          <span className=\"logged-username\">{user.CustName}</span>\n          <IconButton\n            aria-label=\"More\"\n            aria-owns={anchorEl ? \"long-menu\" : undefined}\n            aria-haspopup=\"true\"\n            onClick={this.handleClick}\n            color=\"primary\"\n          >\n            <MoreVertIcon />\n          </IconButton>\n          <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={this.handleClose}\n          >\n            <Link to=\"/account\">\n              <MenuItem>My Account</MenuItem>\n            </Link>\n            <MenuItem\n              onClick={() => {\n                this.handleClose();\n                client.logout();\n              }}\n            >\n              Logout\n            </MenuItem>\n          </Menu>\n        </li>\n      );\n    } else {\n      return (\n        <li>\n          <Link to={item.link}>\n            <Button className=\"button\">{item.label}</Button>\n          </Link>\n        </li>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}