import { decorate, observable, action, computed } from "mobx";
import * as R from "ramda";


class CitiesStore {
  cities = null;
  citiesWithRestaurants = null;
  selectedCity = null;

  setCities(cities) {
    this.cities = cities;
  }
  setSelectedCity(selectedCity) {
    this.selectedCity = selectedCity;
  }
  setCitiesWithRestaurants(citiesWithRestaurants) {
    this.citiesWithRestaurants = citiesWithRestaurants;
  }
  get selectedCityId() {
    return R.find(R.propEq("CityName", this.selectedCity), this.cities).id;
  }
}

decorate(CitiesStore, {
  cities: observable,
  setCities: action,
  citiesWithRestaurants: observable,
  setCitiesWithRestaurants: action,
  selectedCity: observable,
  setSelectedCity: action,
  selectedCityId: computed
});
export default CitiesStore;
