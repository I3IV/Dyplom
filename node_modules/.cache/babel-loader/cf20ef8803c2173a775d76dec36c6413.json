{"ast":null,"code":"import client from \"feathers/client\";\nimport { authStore } from \"store\";\nexport var getLoggedInUser = function getLoggedInUser() {\n  return client.authenticate().then(function (response) {\n    return client.passport.verifyJWT(response.accessToken);\n  }).then(function (payload) {\n    return client.service(\"customers\").get(payload.userId);\n  }).catch(function () {\n    return undefined;\n  });\n};\nexport var updateUser = function updateUser(user) {\n  client.service(\"customers\").patch(client.get(\"user\").id, user);\n  authStore.setUser(user);\n};","map":{"version":3,"sources":["H:\\I3IV\\Dyplom\\src\\node_modules\\api\\customer.js"],"names":["client","authStore","getLoggedInUser","authenticate","then","response","passport","verifyJWT","accessToken","payload","service","get","userId","catch","undefined","updateUser","user","patch","id","setUser"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,iBAAnB;AACA,SAAQC,SAAR,QAAwB,OAAxB;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB;AAAA,SAC3BF,MAAM,CACDG,YADL,GAEKC,IAFL,CAEU,UAAAC,QAAQ,EAAI;AACd,WAAOL,MAAM,CAACM,QAAP,CAAgBC,SAAhB,CAA0BF,QAAQ,CAACG,WAAnC,CAAP;AACH,GAJL,EAKKJ,IALL,CAKU,UAAAK,OAAO,EAAI;AACb,WAAOT,MAAM,CAACU,OAAP,CAAe,WAAf,EAA4BC,GAA5B,CAAgCF,OAAO,CAACG,MAAxC,CAAP;AACH,GAPL,EAQKC,KARL,CAQW;AAAA,WAAMC,SAAN;AAAA,GARX,CAD2B;AAAA,CAAxB;AAWP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAAAC,IAAI,EAAI;AAC9BhB,EAAAA,MAAM,CAACU,OAAP,CAAe,WAAf,EAA4BO,KAA5B,CAAkCjB,MAAM,CAACW,GAAP,CAAW,MAAX,EAAmBO,EAArD,EAAyDF,IAAzD;AACAf,EAAAA,SAAS,CAACkB,OAAV,CAAkBH,IAAlB;AACH,CAHM","sourcesContent":["import client from \"feathers/client\";\r\nimport {authStore} from \"store\";\r\n\r\nexport const getLoggedInUser = () =>\r\n    client\r\n        .authenticate()\r\n        .then(response => {\r\n            return client.passport.verifyJWT(response.accessToken);\r\n        })\r\n        .then(payload => {\r\n            return client.service(\"customers\").get(payload.userId);\r\n        })\r\n        .catch(() => undefined);\r\n\r\nexport const updateUser = user => {\r\n    client.service(\"customers\").patch(client.get(\"user\").id, user);\r\n    authStore.setUser(user);\r\n}"]},"metadata":{},"sourceType":"module"}