{"ast":null,"code":"import _classCallCheck from \"H:\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"H:\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"H:\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"H:\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"H:\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"H:\\\\I3IV\\\\Dyplom\\\\src\\\\node_modules\\\\components\\\\pages\\\\dishes-page\\\\index.js\";\nimport React, { Fragment, Component } from \"react\";\nimport Header from \"shared-components/header\";\nimport GridList from \"shared-components/grid-list\";\nimport SearchPanel from \"shared-components/search-panel\";\nimport RestaurantFilter from \"../restaurants-page/restaurant-filter\";\nimport DishPage from \"../dish-page\";\nimport DishListItem from \"./grid-list-item-dish\";\nimport Spinner from \"shared-components/spinner\";\nimport \"./restaurant-page.css\";\nimport { getAllDishes } from \"api\";\n\nvar DishesPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DishesPage, _Component);\n\n  function DishesPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DishesPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DishesPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      openDish: false,\n      dishToShow: {},\n      term: \"\"\n    };\n\n    _this.onSearchChange = function (term) {\n      _this.setState({\n        term: term,\n        openDish: false\n      });\n    };\n\n    _this.onDishAddClick = function (dish) {\n      console.log(\"SHOWING ALL DISHES\", dish);\n\n      _this.setState({\n        dishToShow: dish,\n        openDish: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DishesPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getAllDishes().then(function (dishes) {\n        _this2.setState({\n          dishes: dishes\n        });\n      });\n    }\n  }, {\n    key: \"search\",\n    value: function search(dishes, term) {\n      if (term.length === 0) {\n        return dishes;\n      }\n\n      return dishes.filter(function (d) {\n        return d.DishName.toLowerCase().indexOf(term.toLowerCase()) > -1;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          dishes = _this$state.dishes,\n          term = _this$state.term;\n      var visibleItems = this.search(dishes, term);\n      var content = !dishes ? React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }) // loading\n      : visibleItems && visibleItems.length ? // show result\n      React.createElement(GridList, {\n        data: visibleItems,\n        GridListItem: DishListItem,\n        onDishAddClick: this.onDishAddClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }) : // no result\n      React.createElement(\"span\", {\n        className: \"message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"No results that match your search\");\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"rest-page-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(DishPage, {\n        openDish: this.state.openDish,\n        dishToShow: this.state.dishToShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"filter-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(SearchPanel, {\n        placeholder: \"Search dishes\",\n        onSearchChange: this.onSearchChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      })), React.createElement(RestaurantFilter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))), content);\n    }\n  }]);\n\n  return DishesPage;\n}(Component);\n\nexport { DishesPage as default };","map":{"version":3,"sources":["H:\\I3IV\\Dyplom\\src\\node_modules\\components\\pages\\dishes-page\\index.js"],"names":["React","Fragment","Component","Header","GridList","SearchPanel","RestaurantFilter","DishPage","DishListItem","Spinner","getAllDishes","DishesPage","state","openDish","dishToShow","term","onSearchChange","setState","onDishAddClick","dish","console","log","then","dishes","length","filter","d","DishName","toLowerCase","indexOf","visibleItems","search","content"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from \"react\";\r\n\r\nimport Header from \"shared-components/header\";\r\nimport GridList from \"shared-components/grid-list\";\r\nimport SearchPanel from \"shared-components/search-panel\";\r\nimport RestaurantFilter from \"../restaurants-page/restaurant-filter\";\r\nimport DishPage from \"../dish-page\";\r\nimport DishListItem from \"./grid-list-item-dish\";\r\nimport Spinner from \"shared-components/spinner\";\r\n\r\nimport \"./restaurant-page.css\";\r\n\r\nimport { getAllDishes } from \"api\";\r\n\r\nexport default class DishesPage extends Component {\r\n  state = {\r\n    openDish: false,\r\n    dishToShow: {},\r\n    term: \"\"\r\n  };\r\n\r\n  componentDidMount() {\r\n    getAllDishes().then(dishes => {\r\n      this.setState({\r\n        dishes\r\n      });\r\n    });\r\n  }\r\n  onSearchChange = term => {\r\n    this.setState({ term, openDish: false });\r\n  };\r\n  onDishAddClick = dish => {\r\n    console.log(\"SHOWING ALL DISHES\", dish);\r\n    this.setState({ dishToShow: dish, openDish: true });\r\n  };\r\n\r\n  search(dishes, term) {\r\n    if (term.length === 0) {\r\n      return dishes;\r\n    }\r\n    return dishes.filter(d => {\r\n      return d.DishName.toLowerCase().indexOf(term.toLowerCase()) > -1;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { dishes, term } = this.state;\r\n\r\n    const visibleItems = this.search(dishes, term);\r\n\r\n    const content = !dishes ? (\r\n      <Spinner /> // loading\r\n    ) : visibleItems && visibleItems.length ? ( // show result\r\n      <GridList\r\n        data={visibleItems}\r\n        GridListItem={DishListItem}\r\n        onDishAddClick={this.onDishAddClick}\r\n      />\r\n    ) : (\r\n      // no result\r\n      <span className=\"message\">No results that match your search</span>\r\n    );\r\n    return (\r\n      <Fragment>\r\n        <Header />\r\n        <div className=\"rest-page-content\">\r\n          <DishPage\r\n            openDish={this.state.openDish}\r\n            dishToShow={this.state.dishToShow}\r\n          />\r\n          <div className=\"filter-bar\">\r\n            <div className=\"search-bar\">\r\n              <SearchPanel\r\n                placeholder=\"Search dishes\"\r\n                onSearchChange={this.onSearchChange}\r\n              />\r\n            </div>\r\n            <RestaurantFilter />\r\n          </div>\r\n        </div>\r\n        {content}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}