{"ast":null,"code":"import _objectSpread from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Studia\\\\React\\\\I3IV\\\\Dyplom\\\\src\\\\node_modules\\\\components\\\\pages\\\\schedule-items\\\\calendar.js\";\nimport React, { Component } from \"react\";\nimport BigCalendar from \"react-big-calendar\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport moment from \"moment\";\nimport ScheduleDialog from \"components/schedule-dialog\";\nimport { getCurrentCustomer } from \"api\"; // Setup the localizer by providing the moment (or globalize) Object\n// to the correct localizer.\n\nvar localizer = BigCalendar.momentLocalizer(moment); // or globalizeLocalizer\n\nvar events = [];\n\nvar MyCalendar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MyCalendar, _Component);\n\n  function MyCalendar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, MyCalendar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(MyCalendar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      events: events,\n      selectedEvent: {},\n      currentCustomer: {},\n      user: {},\n      dialogOpen: false,\n      editItem: false\n    };\n\n    _this.handleAddApply = function (event) {\n      _this.setState({\n        events: _toConsumableArray(_this.state.events).concat([event])\n      });\n    };\n\n    _this.handleEditApply = function (newEvent) {\n      var oldEvents = _this.state.events;\n      var idx = oldEvents.findIndex(function (ev) {\n        return ev.start === newEvent.start && ev.end === newEvent.end;\n      });\n\n      _this.setState({\n        events: _toConsumableArray(oldEvents.slice(0, idx)).concat([newEvent], _toConsumableArray(oldEvents.slice(idx + 1)))\n      });\n    };\n\n    _this.handleDelete = function (eventToDel) {\n      var oldEvents = _this.state.events;\n      var idx = oldEvents.findIndex(function (ev) {\n        return ev.start === eventToDel.start && ev.end === eventToDel.end;\n      });\n\n      _this.setState({\n        events: _toConsumableArray(oldEvents.slice(0, idx)).concat(_toConsumableArray(oldEvents.slice(idx + 1)))\n      });\n    };\n\n    _this.handleSelectSlot = function (event) {\n      _this.setState({\n        dialogOpen: true,\n        editItem: false,\n        selectedEvent: _objectSpread({}, event, {\n          dishes: []\n        })\n      });\n    };\n\n    _this.handleSelectEvent = function (event) {\n      _this.setState({\n        dialogOpen: true,\n        editItem: true,\n        selectedEvent: event\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MyCalendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getCurrentCustomer().then(function (user) {\n        _this2.setState({\n          user: user\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render(props) {\n      var handleApply = this.state.editItem ? this.handleEditApply : this.handleAddApply;\n      if (!this.state.user) return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(ScheduleDialog, {\n        dialogOpen: this.state.dialogOpen,\n        event: this.state.selectedEvent,\n        handleApply: handleApply,\n        handleDelete: this.handleDelete,\n        editItem: this.state.editItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(BigCalendar, {\n        style: {\n          height: \"420px\",\n          marginLeft: \"5rem\",\n          marginRight: \"5rem\"\n        },\n        selectable: true,\n        popup: true,\n        showMultiDayTimes: true,\n        localizer: localizer,\n        events: this.state.events,\n        defaultView: BigCalendar.Views.WEEK,\n        scrollToTime: new Date(1970, 1, 1, 6),\n        onSelectSlot: this.handleSelectSlot,\n        onSelectEvent: this.handleSelectEvent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return MyCalendar;\n}(Component);\n\nexport { MyCalendar as default };","map":{"version":3,"sources":["D:\\Studia\\React\\I3IV\\Dyplom\\src\\node_modules\\components\\pages\\schedule-items\\calendar.js"],"names":["React","Component","BigCalendar","moment","ScheduleDialog","getCurrentCustomer","localizer","momentLocalizer","events","MyCalendar","state","selectedEvent","currentCustomer","user","dialogOpen","editItem","handleAddApply","event","setState","handleEditApply","newEvent","oldEvents","idx","findIndex","ev","start","end","slice","handleDelete","eventToDel","handleSelectSlot","dishes","handleSelectEvent","then","props","handleApply","height","marginLeft","marginRight","Views","WEEK","Date"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport BigCalendar from \"react-big-calendar\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport moment from \"moment\";\r\nimport ScheduleDialog from \"components/schedule-dialog\";\r\nimport { getCurrentCustomer } from \"api\";\r\n\r\n// Setup the localizer by providing the moment (or globalize) Object\r\n// to the correct localizer.\r\nconst localizer = BigCalendar.momentLocalizer(moment); // or globalizeLocalizer\r\nconst events = [];\r\n\r\nexport default class MyCalendar extends Component {\r\n  state = {\r\n    events,\r\n    selectedEvent: {},\r\n    currentCustomer: {},\r\n    user: {},\r\n    dialogOpen: false,\r\n    editItem: false\r\n  };\r\n  componentDidMount() {\r\n    getCurrentCustomer().then(user => {\r\n      this.setState({ user });\r\n    });\r\n  }\r\n  handleAddApply = event => {\r\n    this.setState({\r\n      events: [...this.state.events, event]\r\n    });\r\n  };\r\n  handleEditApply = newEvent => {\r\n    const oldEvents = this.state.events;\r\n    const idx = oldEvents.findIndex(\r\n      ev => ev.start === newEvent.start && ev.end === newEvent.end\r\n    );\r\n\r\n    this.setState({\r\n      events: [\r\n        ...oldEvents.slice(0, idx),\r\n        newEvent,\r\n        ...oldEvents.slice(idx + 1)\r\n      ]\r\n    });\r\n  };\r\n\r\n  handleDelete = eventToDel => {\r\n    const oldEvents = this.state.events;\r\n    const idx = oldEvents.findIndex(\r\n      ev => ev.start === eventToDel.start && ev.end === eventToDel.end\r\n    );\r\n\r\n    this.setState({\r\n      events: [...oldEvents.slice(0, idx), ...oldEvents.slice(idx + 1)]\r\n    });\r\n  };\r\n\r\n  handleSelectSlot = event => {\r\n    this.setState({\r\n      dialogOpen: true,\r\n      editItem: false,\r\n      selectedEvent: { ...event, dishes: [] }\r\n    });\r\n  };\r\n  handleSelectEvent = event => {\r\n    this.setState({\r\n      dialogOpen: true,\r\n      editItem: true,\r\n      selectedEvent: event\r\n    });\r\n  };\r\n  render(props) {\r\n    const handleApply = this.state.editItem\r\n      ? this.handleEditApply\r\n      : this.handleAddApply;\r\n    if (!this.state.user) return <Redirect to=\"/login\" />;\r\n    return (\r\n      <div>\r\n        <ScheduleDialog\r\n          dialogOpen={this.state.dialogOpen}\r\n          event={this.state.selectedEvent}\r\n          handleApply={handleApply}\r\n          handleDelete={this.handleDelete}\r\n          editItem={this.state.editItem}\r\n        />\r\n        <BigCalendar\r\n          style={{ height: \"420px\", marginLeft: \"5rem\", marginRight: \"5rem\" }}\r\n          selectable\r\n          popup\r\n          showMultiDayTimes\r\n          localizer={localizer}\r\n          events={this.state.events}\r\n          defaultView={BigCalendar.Views.WEEK}\r\n          scrollToTime={new Date(1970, 1, 1, 6)}\r\n          onSelectSlot={this.handleSelectSlot}\r\n          onSelectEvent={this.handleSelectEvent}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}